{"version":3,"sources":["webpack:///./src/components/comment/CommentList.vue?3d48","webpack:///./src/components/comment/Comment.vue?8dc4","webpack:///./src/components/comment/CommentForm.vue?59e1","webpack:///./src/common/reg.js","webpack:///src/components/comment/CommentForm.vue","webpack:///./src/components/comment/CommentForm.vue?4d0b","webpack:///./src/components/comment/CommentForm.vue","webpack:///src/components/comment/Comment.vue","webpack:///./src/components/comment/Comment.vue?86db","webpack:///./src/components/comment/Comment.vue","webpack:///./src/components/comment/Pagination.vue?9e08","webpack:///src/components/comment/Pagination.vue","webpack:///./src/components/comment/Pagination.vue?4605","webpack:///./src/components/comment/Pagination.vue","webpack:///src/components/comment/CommentList.vue","webpack:///./src/components/comment/CommentList.vue?4bfc","webpack:///./src/components/comment/CommentList.vue","webpack:///./src/views/friends/Friends.vue?56ef","webpack:///./src/api/friend.js","webpack:///src/views/friends/Friends.vue","webpack:///./src/views/friends/Friends.vue?da22","webpack:///./src/views/friends/Friends.vue","webpack:///./src/components/comment/Comment.vue?fa28","webpack:///./src/components/comment/CommentForm.vue?a0a1","webpack:///./src/views/friends/Friends.vue?4066","webpack:///./src/components/comment/Pagination.vue?857e"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","parentCommentId","_e","staticClass","_v","_s","allComment","closeComment","_l","comment","key","id","attrs","avatar","website","nickname","$store","state","siteInfo","commentAdminFlag","_f","createTime","on","$event","setReply","domProps","content","replyComments","length","reply","parentCommentNickname","directives","name","rawName","value","expression","commit","SET_PARENT_COMMENT_ID","ref","commentForm","formRules","class","model","callback","$$v","$set","showEmojiBox","hideEmojiBox","activeEmojiTab","img","index","insertEmoji","src","arg","slot","postForm","checkEmail","rule","reg","test","Error","checkUrl","validateWebsite","computed","mapState","data","required","message","max","email","validator","emojiShow","tvMapper","aruMapper","paopaoMapper","textarea","start","end","created","mounted","document","querySelector","methods","selectionStart","selectionEnd","focus","setSelectionRange","str","substring","$nextTick","adminToken","window","localStorage","getItem","$notify","title","type","dispatch","blogToken","commentQuery","blogId","$refs","formRef","validate","valid","component","components","CommentForm","pageNum","commentTotalPage","handleCurrentChange","newPage","SET_COMMENT_QUERY_PAGE_NUM","Comment","Pagination","props","page","Number","init","watch","SET_COMMENT_QUERY_PAGE","SET_COMMENT_QUERY_BLOG_ID","_m","item","style","randomRGB","addViews","description","selector","info","staticStyle","getData","axios","url","method","addViewsByNickname","params","CommentList","friendList","bgColor","commentEnabled","then","res","code","friendInfo","msgError","msg","catch","Math","floor","random","backgroundColor"],"mappings":"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","file":"js/chunk-6a9a827f.43707b8f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Comment'),_c('Pagination')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.parentCommentId===-1)?_c('CommentForm'):_vm._e(),_c('h3',{staticClass:\"ui dividing header\"},[_vm._v(\"Comments | 共 \"+_vm._s(_vm.allComment)+\" 条评论\"),(_vm.closeComment!==0)?_c('span',[_vm._v(\"（\"+_vm._s(_vm.closeComment)+\" 条评论被隐藏）\")]):_vm._e()]),(_vm.allComment===0)?_c('h3',{staticClass:\"ui header\"},[_vm._v(\"这是沙发，请抢！\")]):_vm._e(),_vm._l((_vm.comments),function(comment){return _c('div',{key:comment.id,staticClass:\"comment\"},[_c('span',{staticClass:\"anchor\",attrs:{\"id\":(\"comment-\" + (comment.id))}}),_c('a',{staticClass:\"ui circular image avatar\"},[_c('img',{attrs:{\"src\":comment.avatar}})]),_c('div',{staticClass:\"content\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":comment.website!=''&&comment.website!=null?comment.website:null,\"target\":\"_blank\",\"rel\":\"external nofollow noopener\"}},[_vm._v(_vm._s(comment.nickname))]),(comment.adminComment)?_c('div',{staticClass:\"ui orange left pointing label\"},[_vm._v(_vm._s(_vm.$store.state.siteInfo.commentAdminFlag))]):_vm._e(),_c('div',{staticClass:\"metadata\"},[_c('strong',{staticClass:\"date\"},[_vm._v(_vm._s(_vm._f(\"dateFormat\")(comment.createTime,'YYYY-MM-DD HH:mm')))])]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.setReply(comment.id)}}},[_vm._v(\"回复\")]),_c('div',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(comment.content)}})],1),(comment.replyComments.length>0)?_c('div',{staticClass:\"comments\"},_vm._l((comment.replyComments),function(reply){return _c('div',{key:reply.id,staticClass:\"comment\"},[_c('span',{staticClass:\"anchor\",attrs:{\"id\":(\"comment-\" + (reply.id))}}),_c('a',{staticClass:\"ui circular image avatar\"},[_c('img',{attrs:{\"src\":reply.avatar}})]),_c('div',{staticClass:\"content\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":reply.website!=''&&reply.website!=null?reply.website:null,\"target\":\"_blank\",\"rel\":\"external nofollow noopener\"}},[_vm._v(_vm._s(reply.nickname))]),(reply.adminComment)?_c('div',{staticClass:\"ui orange left pointing label\"},[_vm._v(_vm._s(_vm.$store.state.siteInfo.commentAdminFlag))]):_vm._e(),_c('div',{staticClass:\"metadata\"},[_c('strong',{staticClass:\"date\"},[_vm._v(_vm._s(_vm._f(\"dateFormat\")(reply.createTime,'YYYY-MM-DD HH:mm')))])]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.setReply(reply.id)}}},[_vm._v(\"回复\")]),_c('div',{staticClass:\"text\"},[_c('a',{attrs:{\"href\":(\"#comment-\" + (reply.parentCommentId))}},[_vm._v(\"@\"+_vm._s(reply.parentCommentNickname))]),_c('div',{domProps:{\"innerHTML\":_vm._s(reply.content)}})])],1),(_vm.parentCommentId===reply.id)?_c('CommentForm'):_vm._e()],1)}),0):_vm._e(),_c('div',{staticClass:\"border\"}),(_vm.parentCommentId===comment.id)?_c('CommentForm'):_vm._e()],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form\"},[_c('h3',[_vm._v(\" 发表评论 \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.parentCommentId!==-1),expression:\"parentCommentId!==-1\"}],staticClass:\"m-small\",attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$store.commit(_vm.SET_PARENT_COMMENT_ID, -1)}}},[_vm._v(\"取消回复\")])],1),_c('el-form',{ref:\"formRef\",attrs:{\"inline\":true,\"model\":_vm.commentForm,\"rules\":_vm.formRules,\"size\":\"small\"}},[_c('el-input',{class:'textarea',attrs:{\"type\":\"textarea\",\"rows\":5,\"placeholder\":\"......尝试留下一些足迹...\",\"maxlength\":\"200\",\"show-word-limit\":\"\",\"validate-event\":false},model:{value:(_vm.commentForm.content),callback:function ($$v) {_vm.$set(_vm.commentForm, \"content\", $$v)},expression:\"commentForm.content\"}}),_c('div',{staticClass:\"el-form-item el-form-item--small emoji\"},[_c('img',{attrs:{\"src\":\"https://cdn.naccl.top/blog/img/tv/24.png\",\"width\":\"36px\",\"height\":\"36px\"},on:{\"click\":_vm.showEmojiBox}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.emojiShow),expression:\"emojiShow\"}],staticClass:\"mask\",on:{\"click\":_vm.hideEmojiBox}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.emojiShow),expression:\"emojiShow\"}],staticClass:\"emoji-box\"},[_c('div',{staticClass:\"emoji-title\"},[_c('span',[_vm._v(_vm._s(_vm.activeEmojiTab === 0 ? 'tv_小电视' : _vm.activeEmojiTab === 1 ? '阿鲁' : '泡泡'))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeEmojiTab===0),expression:\"activeEmojiTab===0\"}],staticClass:\"emoji-wrap\"},_vm._l((_vm.tvMapper),function(img,index){return _c('div',{key:index,staticClass:\"emoji-list\",on:{\"click\":function($event){return _vm.insertEmoji(img.name)}}},[_c('img',{attrs:{\"src\":img.src,\"title\":img.name}})])}),0),_c('div',{staticClass:\"emoji-tabs\"},[_c('a',{staticClass:\"tab-link\",class:{'on':_vm.activeEmojiTab===0},on:{\"click\":function($event){_vm.activeEmojiTab=0}}},[_c('img',{attrs:{\"src\":\"https://cdn.naccl.top/blog/img/tv/1.png\"}})])])])]),_c('el-form-item',{attrs:{\"prop\":\"nickname\"}},[_c('el-input',{directives:[{name:\"popover\",rawName:\"v-popover:nicknamePopover\",arg:\"nicknamePopover\"}],attrs:{\"placeholder\":\"昵称（必填）\",\"validate-event\":false},model:{value:(_vm.commentForm.nickname),callback:function ($$v) {_vm.$set(_vm.commentForm, \"nickname\", $$v)},expression:\"commentForm.nickname\"}},[_c('i',{staticClass:\"el-input__icon el-icon-user\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"email\"}},[_c('el-popover',{ref:\"emailPopover\",attrs:{\"placement\":\"bottom\",\"trigger\":\"focus\",\"content\":\"用于接收回复邮件\"}}),_c('el-input',{directives:[{name:\"popover\",rawName:\"v-popover:emailPopover\",arg:\"emailPopover\"}],attrs:{\"placeholder\":\"邮箱（必填）\",\"validate-event\":false},model:{value:(_vm.commentForm.email),callback:function ($$v) {_vm.$set(_vm.commentForm, \"email\", $$v)},expression:\"commentForm.email\"}},[_c('i',{staticClass:\"el-input__icon el-icon-message\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"website\"}},[_c('el-popover',{ref:\"websitePopover\",attrs:{\"placement\":\"bottom\",\"trigger\":\"focus\",\"content\":\"看看你的\"}}),_c('el-input',{directives:[{name:\"popover\",rawName:\"v-popover:websitePopover\",arg:\"websitePopover\"}],attrs:{\"placeholder\":\"https://（可选）\",\"validate-event\":false},model:{value:(_vm.commentForm.website),callback:function ($$v) {_vm.$set(_vm.commentForm, \"website\", $$v)},expression:\"commentForm.website\"}},[_c('i',{staticClass:\"el-input__icon el-icon-map-location\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',{attrs:{\"label\":\"订阅回复\"}},[_c('el-switch',{model:{value:(_vm.commentForm.notice),callback:function ($$v) {_vm.$set(_vm.commentForm, \"notice\", $$v)},expression:\"commentForm.notice\"}})],1),_c('el-form-item',[_c('el-button',{directives:[{name:\"throttle\",rawName:\"v-throttle\",value:([_vm.postForm,\"click\",3000]),expression:\"[postForm,`click`,3000]\"}],attrs:{\"type\":\"primary\",\"size\":\"medium\"}},[_vm._v(\"发表评论\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const checkEmail = (rule, value, callback) => {\r\n\tconst reg = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\tif (reg.test(value)) {\r\n\t\treturn callback()\r\n\t}\r\n\tcallback(new Error('请输入合法的邮箱'))\r\n}\r\n\r\nexport const checkUrl = (rule, value, callback) => {\r\n\tconst reg = /^https?:\\/\\/([^!@#$%^&*?.\\s-]([^!@#$%^&*?.\\s]{0,63}[^!@#$%^&*?.\\s])?\\.)+[a-z]{2,6}\\/?/\r\n\tif (reg.test(value)) {\r\n\t\treturn callback()\r\n\t}\r\n\tcallback(new Error('请输入合法的 URL'))\r\n}","<template>\r\n\t<!-- 评论输入表单 -->\r\n\t<div class=\"form\">\r\n\t\t<h3>\r\n\t\t\t发表评论\r\n\t\t\t<el-button class=\"m-small\" size=\"mini\" type=\"primary\" @click=\"$store.commit(SET_PARENT_COMMENT_ID, -1)\" v-show=\"parentCommentId!==-1\">取消回复</el-button>\r\n\t\t</h3>\r\n\t\t<el-form :inline=\"true\" :model=\"commentForm\" :rules=\"formRules\" ref=\"formRef\" size=\"small\">\r\n\t\t\t<el-input :class=\"'textarea'\" type=\"textarea\" :rows=\"5\" v-model=\"commentForm.content\" placeholder=\"......尝试留下一些足迹...\"\r\n\t\t\t          maxlength=\"200\" show-word-limit :validate-event=\"false\"></el-input>\r\n\t\t\t<div class=\"el-form-item el-form-item--small emoji\">\r\n\t\t\t\t<img src=\"https://cdn.naccl.top/blog/img/tv/24.png\" @click=\"showEmojiBox\" width=\"36px\" height=\"36px\">\r\n\t\t\t\t<div class=\"mask\" v-show=\"emojiShow\" @click=\"hideEmojiBox\"></div>\r\n\t\t\t\t<div class=\"emoji-box\" v-show=\"emojiShow\">\r\n\t\t\t\t\t<div class=\"emoji-title\">\r\n\t\t\t\t\t\t<span>{{ activeEmojiTab === 0 ? 'tv_小电视' : activeEmojiTab === 1 ? '阿鲁' : '泡泡' }}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"emoji-wrap\" v-show=\"activeEmojiTab===0\">\r\n\t\t\t\t\t\t<div class=\"emoji-list\" v-for=\"(img,index) in tvMapper\" :key=\"index\" @click=\"insertEmoji(img.name)\">\r\n\t\t\t\t\t\t\t<img :src=\"img.src\" :title=\"img.name\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- <div class=\"emoji-wrap\" v-show=\"activeEmojiTab===1\">\r\n\t\t\t\t\t\t<div class=\"emoji-list\" v-for=\"(img,index) in aruMapper\" :key=\"index\" @click=\"insertEmoji(img.name)\">\r\n\t\t\t\t\t\t\t<img :src=\"img.src\" :title=\"img.name\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div> -->\r\n\t\t\t\t\t<!-- <div class=\"emoji-wrap\" v-show=\"activeEmojiTab===2\">\r\n\t\t\t\t\t\t<div class=\"emoji-list\" v-for=\"(img,index) in paopaoMapper\" :key=\"index\" @click=\"insertEmoji(img.name)\">\r\n\t\t\t\t\t\t\t<img :src=\"img.src\" :title=\"img.name\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div> -->\r\n\t\t\t\t\t<div class=\"emoji-tabs\">\r\n\t\t\t\t\t\t<a class=\"tab-link\" :class=\"{'on':activeEmojiTab===0}\" @click=\"activeEmojiTab=0\">\r\n\t\t\t\t\t\t\t<img src=\"https://cdn.naccl.top/blog/img/tv/1.png\">\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<!-- <a class=\"tab-link\" :class=\"{'on':activeEmojiTab===1}\" @click=\"activeEmojiTab=1\">\r\n\t\t\t\t\t\t\t<img src=\"https://cdn.naccl.top/blog/img/aru/1.png\">\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a class=\"tab-link\" :class=\"{'on':activeEmojiTab===2}\" @click=\"activeEmojiTab=2\">\r\n\t\t\t\t\t\t\t<img src=\"https://cdn.naccl.top/blog/img/paopao/1.png\">\r\n\t\t\t\t\t\t</a> -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<el-form-item prop=\"nickname\">\r\n\t\t\t\t<el-input v-model=\"commentForm.nickname\" placeholder=\"昵称（必填）\" :validate-event=\"false\" v-popover:nicknamePopover>\r\n\t\t\t\t\t<i slot=\"prefix\" class=\"el-input__icon el-icon-user\"></i>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item prop=\"email\">\r\n\t\t\t\t<el-popover ref=\"emailPopover\" placement=\"bottom\" trigger=\"focus\" content=\"用于接收回复邮件\"></el-popover>\r\n\t\t\t\t<el-input v-model=\"commentForm.email\" placeholder=\"邮箱（必填）\" :validate-event=\"false\" v-popover:emailPopover>\r\n\t\t\t\t\t<i slot=\"prefix\" class=\"el-input__icon el-icon-message\"></i>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item prop=\"website\">\r\n\t\t\t\t<el-popover ref=\"websitePopover\" placement=\"bottom\" trigger=\"focus\" content=\"看看你的\"></el-popover>\r\n\t\t\t\t<el-input v-model=\"commentForm.website\" placeholder=\"https://（可选）\" :validate-event=\"false\" v-popover:websitePopover>\r\n\t\t\t\t\t<i slot=\"prefix\" class=\"el-input__icon el-icon-map-location\"></i>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"订阅回复\">\r\n\t\t\t\t<el-switch v-model=\"commentForm.notice\"></el-switch>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" size=\"medium\" v-throttle=\"[postForm,`click`,3000]\">发表评论</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState} from 'vuex'\r\n\timport {checkEmail, checkUrl} from \"@/common/reg\";\r\n\timport {SET_PARENT_COMMENT_ID} from \"@/store/mutations-types\";\r\n\timport tvMapper from '@/plugins/tvMapper.json'\r\n\timport aruMapper from '@/plugins/aruMapper.json'\r\n\timport paopaoMapper from '@/plugins/paopaoMapper.json'\r\n\r\n\tconst validateWebsite = (rule, value, callback) => {\r\n\t\tif (value) {\r\n\t\t\treturn checkUrl(rule, value, callback)\r\n\t\t}\r\n\t\tcallback()\r\n\t}\r\n\texport default {\r\n\t\tname: \"CommentForm\",\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['parentCommentId', 'commentForm', 'commentQuery'])\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tSET_PARENT_COMMENT_ID,\r\n\t\t\t\tformRules: {\r\n\t\t\t\t\tnickname: [\r\n\t\t\t\t\t\t{required: true, message: '请输入评论昵称'},\r\n\t\t\t\t\t\t{max: 18, message: '昵称不可多于15个字符'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\temail: [\r\n\t\t\t\t\t\t{required: true, message: '请输入评论邮箱'},\r\n\t\t\t\t\t\t{validator: checkEmail}\r\n\t\t\t\t\t],\r\n\t\t\t\t\twebsite: [\r\n\t\t\t\t\t\t{required: false},\r\n\t\t\t\t\t\t{validator: validateWebsite}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\temojiShow: false,\r\n\t\t\t\tactiveEmojiTab: 0,\r\n\t\t\t\ttvMapper: [],\r\n\t\t\t\taruMapper: [],\r\n\t\t\t\tpaopaoMapper: [],\r\n\t\t\t\ttextarea: null,\r\n\t\t\t\tstart: 0,\r\n\t\t\t\tend: 0,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.tvMapper = tvMapper\r\n\t\t\tthis.aruMapper = aruMapper\r\n\t\t\tthis.paopaoMapper = paopaoMapper\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.textarea = document.querySelector('.el-form textarea')\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tshowEmojiBox() {\r\n\t\t\t\tthis.start = this.textarea.selectionStart\r\n\t\t\t\tthis.end = this.textarea.selectionEnd\r\n\t\t\t\tthis.textarea.focus()\r\n\t\t\t\tthis.textarea.setSelectionRange(this.start, this.end)\r\n\t\t\t\tthis.emojiShow = !this.emojiShow\r\n\t\t\t},\r\n\t\t\tinsertEmoji(name) {\r\n\t\t\t\tlet str = this.commentForm.content\r\n\t\t\t\tthis.commentForm.content = str.substring(0, this.start) + name + str.substring(this.end)\r\n\t\t\t\tthis.start += name.length\r\n\t\t\t\tthis.end = this.start\r\n\t\t\t\tthis.textarea.focus()\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.textarea.setSelectionRange(this.start, this.end)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thideEmojiBox() {\r\n\t\t\t\tthis.emojiShow = false\r\n\t\t\t\tthis.textarea.focus()\r\n\t\t\t\tthis.textarea.setSelectionRange(this.start, this.end)\r\n\t\t\t},\r\n\t\t\tpostForm() {\r\n\t\t\t\tconst adminToken = window.localStorage.getItem('adminToken')\r\n\t\t\t\tif (adminToken) {\r\n\t\t\t\t\t//博主登录后，localStorage中会存储token，在后端设置属性，可以不校验昵称、邮箱\r\n\t\t\t\t\tif (this.commentForm.content === '' || this.commentForm.content.length > 200) {\r\n\t\t\t\t\t\treturn this.$notify({\r\n\t\t\t\t\t\t\ttitle: '评论失败',\r\n\t\t\t\t\t\t\tmessage: '评论内容有误',\r\n\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn this.$store.dispatch('submitCommentForm', adminToken)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst blogToken = window.localStorage.getItem(`blog${this.commentQuery.blogId}`)\r\n\t\t\t\tthis.$refs.formRef.validate(valid => {\r\n\t\t\t\t\tif (!valid || this.commentForm.content === '' || this.commentForm.content.length > 200) {\r\n\t\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\t\ttitle: '评论失败',\r\n\t\t\t\t\t\t\tmessage: '请正确填写评论',\r\n\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$store.dispatch('submitCommentForm', blogToken ? blogToken : '')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.form {\r\n\t\tbackground: #fff;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.form h3 {\r\n\t\tmargin: 5px;\r\n\t\tfont-weight: 500 !important;\r\n\t}\r\n\r\n\t.form .m-small {\r\n\t\tmargin-left: 5px;\r\n\t\tpadding: 4px 5px;\r\n\t}\r\n\r\n\t.el-form .textarea {\r\n\t\tmargin-top: 5px;\r\n\t\tmargin-bottom: 15px;\r\n\t}\r\n\r\n\t.el-form textarea {\r\n\t\tpadding: 6px 8px;\r\n\t}\r\n\r\n\t.el-form textarea, .el-form input {\r\n\t\tcolor: black;\r\n\t}\r\n\r\n\t.el-form .el-form-item__label {\r\n\t\tpadding-right: 3px;\r\n\t}\r\n\r\n\t.emoji {\r\n\t\tmargin-right: 5px;\r\n\t\tposition: relative;\r\n\t\tuser-select: none;\r\n\t}\r\n\r\n\t.emoji > img {\r\n\t\tcursor: pointer;\r\n\t\ttransition: all 0.3s ease-in-out;\r\n\t\t-webkit-transition: all 0.3s ease-in-out;\r\n\t\t-moz-transition: all 0.3s ease-in-out;\r\n\t\t-o-transition: all 0.3s ease-in-out;\r\n\t}\r\n\r\n\t.emoji > img:hover {\r\n\t\ttransform: rotate(360deg);\r\n\t\t-webkit-transform: rotate(360deg);\r\n\t\t-moz-transform: rotate(360deg);\r\n\t\t-o-transform: rotate(360deg);\r\n\t}\r\n\r\n\t.emoji-box {\r\n\t\tcolor: #222;\r\n\t\toverflow: visible;\r\n\t\tbackground: #fff;\r\n\t\tborder: 1px solid #E5E9EF;\r\n\t\tbox-shadow: 0 11px 12px 0 rgba(106, 115, 133, 0.3);\r\n\t\tborder-radius: 8px;\r\n\t\twidth: 340px;\r\n\t\tposition: absolute;\r\n\t\ttop: 40px;\r\n\t\tz-index: 100;\r\n\t}\r\n\r\n\t.emoji-box * {\r\n\t\tbox-sizing: content-box;\r\n\t}\r\n\r\n\t.emoji-box .emoji-title {\r\n\t\tfont-size: 12px;\r\n\t\tline-height: 16px;\r\n\t\tmargin: 13px 15px 0;\r\n\t\tcolor: #757575;\r\n\t}\r\n\r\n\t.emoji-box .emoji-wrap {\r\n\t\tmargin: 6px 11px 0 11px;\r\n\t\theight: 185px;\r\n\t\toverflow: auto;\r\n\t\tword-break: break-word;\r\n\t}\r\n\r\n\t.emoji-box .emoji-wrap .emoji-list {\r\n\t\theight: 33px;\r\n\t\tcolor: #111;\r\n\t\tborder-radius: 4px;\r\n\t\ttransition: background 0.2s;\r\n\t\tdisplay: inline-block;\r\n\t\toutline: 0;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.emoji-box .emoji-wrap .emoji-list:hover {\r\n\t\tbackground-color: #ddd;\r\n\t}\r\n\r\n\t.emoji-box .emoji-wrap .emoji-list img {\r\n\t\tmargin: 4px;\r\n\t\twidth: 25px;\r\n\t\theight: 25px;\r\n\t}\r\n\r\n\t.emoji-box .emoji-tabs {\r\n\t\tposition: relative;\r\n\t\theight: 36px;\r\n\t\toverflow: hidden;\r\n\t\tbackground-color: #f4f4f4;\r\n\t\tborder-radius: 0 0 4px 4px;\r\n\t}\r\n\r\n\t.emoji-box .emoji-tabs .tab-link {\r\n\t\tcursor: pointer;\r\n\t\tfloat: left;\r\n\t\tpadding: 7px 18px;\r\n\t\twidth: 22px;\r\n\t\theight: 22px;\r\n\t}\r\n\r\n\t.emoji-box .emoji-tabs .tab-link.on {\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.emoji-box .emoji-tabs .tab-link img {\r\n\t\twidth: 22px;\r\n\t}\r\n\r\n\t.emoji-box .emoji-tabs .tab-link:hover {\r\n\t\tbackground: #e7e7e7;\r\n\t}\r\n\r\n\t.mask {\r\n\t\tpointer-events: auto;\r\n\t\tposition: fixed;\r\n\t\tz-index: 99;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CommentForm.vue?vue&type=template&id=14079206\"\nimport script from \"./CommentForm.vue?vue&type=script&lang=js\"\nexport * from \"./CommentForm.vue?vue&type=script&lang=js\"\nimport style0 from \"./CommentForm.vue?vue&type=style&index=0&id=14079206&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<!--评论列表-->\r\n\t<div>\r\n\t\t<CommentForm v-if=\"parentCommentId===-1\"/>\r\n\t\t<h3 class=\"ui dividing header\">Comments | 共 {{ allComment }} 条评论<span v-if=\"closeComment!==0\">（{{ closeComment }} 条评论被隐藏）</span></h3>\r\n\t\t<h3 class=\"ui header\" v-if=\"allComment===0\">这是沙发，请抢！</h3>\r\n\t\t<div class=\"comment\" v-for=\"comment in comments\" :key=\"comment.id\">\r\n\t\t\t<span class=\"anchor\" :id=\"`comment-${comment.id}`\"></span>\r\n\t\t\t<a class=\"ui circular image avatar\">\r\n\t\t\t\t<img :src=\"comment.avatar\">\r\n\t\t\t</a>\r\n\t\t\t<div class=\"content\">\r\n\t\t\t\t<a class=\"nickname\" :href=\"comment.website!=''&&comment.website!=null?comment.website:null\" target=\"_blank\" rel=\"external nofollow noopener\">{{ comment.nickname }}</a>\r\n\t\t\t\t<div class=\"ui orange left pointing label\" v-if=\"comment.adminComment\">{{ $store.state.siteInfo.commentAdminFlag }}</div>\r\n\t\t\t\t<div class=\"metadata\">\r\n\t\t\t\t\t<strong class=\"date\">{{ comment.createTime | dateFormat('YYYY-MM-DD HH:mm') }}</strong>\r\n\t\t\t\t</div>\r\n\t\t\t\t<el-button size=\"mini\" type=\"primary\" @click=\"setReply(comment.id)\">回复</el-button>\r\n\t\t\t\t<div class=\"text\" v-html=\"comment.content\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"comments\" v-if=\"comment.replyComments.length>0\">\r\n\t\t\t\t<div class=\"comment\" v-for=\"reply in comment.replyComments\" :key=\"reply.id\">\r\n\t\t\t\t\t<span class=\"anchor\" :id=\"`comment-${reply.id}`\"></span>\r\n\t\t\t\t\t<a class=\"ui circular image avatar\">\r\n\t\t\t\t\t\t<img :src=\"reply.avatar\">\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t\t<a class=\"nickname\" :href=\"reply.website!=''&&reply.website!=null?reply.website:null\" target=\"_blank\" rel=\"external nofollow noopener\">{{ reply.nickname }}</a>\r\n\t\t\t\t\t\t<div class=\"ui orange left pointing label\" v-if=\"reply.adminComment\">{{ $store.state.siteInfo.commentAdminFlag }}</div>\r\n\t\t\t\t\t\t<div class=\"metadata\">\r\n\t\t\t\t\t\t\t<strong class=\"date\">{{ reply.createTime | dateFormat('YYYY-MM-DD HH:mm') }}</strong>\r\n\t\t\t\t\t\t</div>\r\n            <el-button size=\"mini\" type=\"primary\" @click=\"setReply(reply.id)\">回复</el-button>\r\n\t\t\t\t\t\t<div class=\"text\">\r\n\t\t\t\t\t\t\t<a :href=\"`#comment-${reply.parentCommentId}`\">@{{ reply.parentCommentNickname }}</a>\r\n\t\t\t\t\t\t\t<div v-html=\"reply.content\"></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<CommentForm v-if=\"parentCommentId===reply.id\"/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"border\"></div>\r\n\t\t\t<CommentForm v-if=\"parentCommentId===comment.id\"/>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState} from 'vuex'\r\n\timport CommentForm from \"./CommentForm\";\r\n\timport {SET_PARENT_COMMENT_ID} from \"@/store/mutations-types\";\r\n\r\n\texport default {\r\n\t\tname: \"Comment\",\r\n\t\tcomponents: {CommentForm},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['allComment', 'closeComment', 'comments', 'parentCommentId'])\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsetReply(id) {\r\n\t\t\t\tthis.$store.commit(SET_PARENT_COMMENT_ID, id)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.comments + .border {\r\n\t\tposition: absolute;\r\n\t\tleft: 34px;\r\n\t\ttop: 47px;\r\n\t\tbottom: 0;\r\n\t\tborder-style: solid;\r\n\t\tborder-width: 0 0 0 1px;\r\n\t\tborder-color: #e0e0e0;\r\n\t}\r\n\r\n\t.ui.threaded.comments .comment .comments {\r\n\t\tbox-shadow: none;\r\n\t\tmargin-top: -2em;\r\n\t}\r\n\r\n\t.comment {\r\n\t\tpadding-right: 1em !important;\r\n\t\tpadding-left: 1em !important;\r\n\t}\r\n\r\n\t.nickname {\r\n\t\tfont-weight: bolder;\r\n\t\tcolor: #000;\r\n\t}\r\n\r\n\t.comment .el-button {\r\n\t\tmargin-left: 5px;\r\n\t\tpadding: 4px 5px;\r\n\t}\r\n\r\n\t.comment > .anchor {\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: -48px;\r\n\t}\r\n\r\n\t.comments .comment:first-child {\r\n\t\tmargin-top: 0 !important;\r\n\t}\r\n\r\n\t.comment .comments .comment {\r\n\t\tbox-shadow: 0 0 5px rgb(0, 0, 0, 0.1);\r\n\t\tborder-radius: 5px;\r\n\t\tmargin-top: 12px;\r\n\t\tpadding-top: 10px !important;\r\n\t\tpadding-bottom: 10px !important;\r\n\t}\r\n\r\n\t.comment .comments .comment > .anchor {\r\n\t\ttop: -55px;\r\n\t}\r\n\r\n\t.ui.comments .comment .avatar {\r\n\t\twidth: 40px !important;\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t.ui.comments .comment .text {\r\n\t\twhite-space: pre-wrap !important;\r\n\t\tline-height: 1.5;\r\n\t}\r\n\r\n\t.ui.comments .comment .text a {\r\n\t\tcursor: pointer;\r\n\t\tmargin-right: 8px;\r\n\t\tfont-weight: bolder;\r\n\t\tcolor: rgba(0, 0, 0, .87);\r\n\t}\r\n\r\n\t.ui.comments .comment .text div {\r\n\t\tdisplay: inline;\r\n\t}\r\n\r\n\t.label {\r\n\t\tcursor: default;\r\n\t\tpadding: 4px 6px !important;\r\n\t\tfont-weight: 500 !important;\r\n\t}\r\n\r\n\t.comment .form {\r\n\t\tmargin-top: 20px;\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Comment.vue?vue&type=template&id=4ce50154&scoped=true\"\nimport script from \"./Comment.vue?vue&type=script&lang=js\"\nexport * from \"./Comment.vue?vue&type=script&lang=js\"\nimport style0 from \"./Comment.vue?vue&type=style&index=0&id=4ce50154&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ce50154\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-pagination',{staticClass:\"pagination\",attrs:{\"current-page\":_vm.commentQuery.pageNum,\"page-count\":_vm.commentTotalPage,\"layout\":\"prev, pager, next\",\"background\":\"\",\"hide-on-single-page\":\"\"},on:{\"current-change\":_vm.handleCurrentChange}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<!--评论分页-->\r\n\t<el-pagination @current-change=\"handleCurrentChange\" :current-page=\"commentQuery.pageNum\" :page-count=\"commentTotalPage\"\r\n\t               layout=\"prev, pager, next\" background hide-on-single-page class=\"pagination\">\r\n\t</el-pagination>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState} from 'vuex'\r\n\timport {SET_COMMENT_QUERY_PAGE_NUM, SET_PARENT_COMMENT_ID} from \"@/store/mutations-types\";\r\n\r\n\texport default {\r\n\t\tname: \"Pagination\",\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['commentQuery', 'commentTotalPage'])\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//监听页码改变的事件\r\n\t\t\thandleCurrentChange(newPage) {\r\n\t\t\t\tthis.$store.commit(SET_COMMENT_QUERY_PAGE_NUM, newPage)\r\n\t\t\t\tthis.$store.commit(SET_PARENT_COMMENT_ID, -1)\r\n\t\t\t\tthis.$store.dispatch('getCommentList')\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.pagination {\r\n\t\tmargin-top: 2em;\r\n\t\ttext-align: center;\r\n\t}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=5bc58a75&scoped=true\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nimport style0 from \"./Pagination.vue?vue&type=style&index=0&id=5bc58a75&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bc58a75\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<div>\r\n\t\t<Comment/>\r\n\t\t<Pagination/>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport Comment from \"./Comment\";\r\n\timport Pagination from \"./Pagination\";\r\n\timport {SET_COMMENT_QUERY_PAGE, SET_COMMENT_QUERY_BLOG_ID, SET_COMMENT_QUERY_PAGE_NUM, SET_PARENT_COMMENT_ID} from \"@/store/mutations-types\";\r\n\r\n\texport default {\r\n\t\tname: \"CommentList\",\r\n\t\tcomponents: {Comment, Pagination},\r\n\t\tprops: {\r\n\t\t\tpage: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\trequired: true\r\n\t\t\t},\r\n\t\t\tblogId: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\trequired: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.init()\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t//在博客文章路由到其它含有评论的页面时，要重新获取评论\r\n\t\t\t'$route.path'() {\r\n\t\t\t\tthis.init()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit() {\r\n\t\t\t\t//重置评论表单位置\r\n\t\t\t\tthis.$store.commit(SET_PARENT_COMMENT_ID, -1)\r\n\t\t\t\tthis.$store.commit(SET_COMMENT_QUERY_PAGE, this.page)\r\n\t\t\t\tthis.$store.commit(SET_COMMENT_QUERY_BLOG_ID, this.blogId)\r\n\t\t\t\tthis.$store.commit(SET_COMMENT_QUERY_PAGE_NUM, 1)\r\n\t\t\t\tthis.$store.dispatch('getCommentList')\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CommentList.vue?vue&type=template&id=d0718afc&scoped=true\"\nimport script from \"./CommentList.vue?vue&type=script&lang=js\"\nexport * from \"./CommentList.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d0718afc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_c('div',{staticClass:\"ui attached segment\"},[_c('div',{staticClass:\"ui link three doubling cards\"},_vm._l((_vm.friendList),function(item,index){return _c('a',{key:index,staticClass:\"card\",style:(_vm.randomRGB()),attrs:{\"href\":item.website,\"target\":\"_blank\",\"rel\":\"external nofollow noopener\"},on:{\"click\":function($event){return _vm.addViews(item.nickname)}}},[_c('div',{staticClass:\"image\"},[_c('img',{attrs:{\"src\":item.avatar,\"onerror\":\"this.src = '/img/error.png'\"}})]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"header\"},[_vm._v(_vm._s(item.nickname))]),_c('div',{staticClass:\"description\"},[_vm._v(_vm._s(item.description))])])])}),0)]),_c('div',{staticClass:\"ui teal attached segment\"},[_c('div',{directives:[{name:\"lazy-container\",rawName:\"v-lazy-container\",value:({selector: 'img'}),expression:\"{selector: 'img'}\"},{name:\"viewer\",rawName:\"v-viewer\"}],staticClass:\"typo content\",domProps:{\"innerHTML\":_vm._s(_vm.info.content)}})]),_c('div',{staticClass:\"ui bottom teal attached segment threaded comments\"},[(_vm.info.commentEnabled)?_c('CommentList',{attrs:{\"page\":2,\"blogId\":null}}):_c('h3',{staticClass:\"ui header\"},[_vm._v(\"评论已关闭\")])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui top attached segment\",staticStyle:{\"text-align\":\"center\"}},[_c('h2',{staticClass:\"m-text-500\"},[_vm._v(\"友達\")])])}]\n\nexport { render, staticRenderFns }","import axios from '@/plugins/axios'\r\n\r\nexport function getData() {\r\n\treturn axios({\r\n\t\turl: 'friends',\r\n\t\tmethod: 'GET'\r\n\t})\r\n}\r\n\r\nexport function addViewsByNickname(nickname) {\r\n\treturn axios({\r\n\t\turl: 'friend',\r\n\t\tmethod: 'POST',\r\n\t\tparams: {\r\n\t\t\tnickname\r\n\t\t}\r\n\t})\r\n}","<template>\r\n\t<div>\r\n\t\t<div class=\"ui top attached segment\" style=\"text-align: center\">\r\n\t\t\t<h2 class=\"m-text-500\">友達</h2>\r\n\t\t</div>\r\n\t\t<div class=\"ui attached segment\">\r\n\t\t\t<div class=\"ui link three doubling cards\">\r\n\t\t\t\t<a :href=\"item.website\" target=\"_blank\" rel=\"external nofollow noopener\" class=\"card\" :style=\"randomRGB()\"\r\n\t\t\t\t   v-for=\"(item,index) in friendList\" :key=\"index\" @click=\"addViews(item.nickname)\">\r\n\t\t\t\t\t<div class=\"image\">\r\n\t\t\t\t\t\t<img :src=\"item.avatar\" onerror=\"this.src = '/img/error.png'\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t\t<div class=\"header\">{{ item.nickname }}</div>\r\n\t\t\t\t\t\t<div class=\"description\">{{ item.description }}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!--页面描述-->\r\n\t\t<div class=\"ui teal attached segment\">\r\n\t\t\t<div class=\"typo content\" v-lazy-container=\"{selector: 'img'}\" v-viewer v-html=\"info.content\"></div>\r\n\t\t</div>\r\n\t\t<!--评论-->\r\n\t\t<div class=\"ui bottom teal attached segment threaded comments\">\r\n\t\t\t<CommentList :page=\"2\" :blogId=\"null\" v-if=\"info.commentEnabled\"/>\r\n\t\t\t<h3 class=\"ui header\" v-else>评论已关闭</h3>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {getData, addViewsByNickname} from \"@/api/friend\";\r\n\timport CommentList from \"@/components/comment/CommentList\";\r\n\r\n\texport default {\r\n\t\tname: \"Friends\",\r\n\t\tcomponents: {CommentList},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tfriendList: [],\r\n\t\t\t\tbgColor: [\r\n\t\t\t\t\t'#1abc9c', '#2ecc71', '#3498db', '#9b59b6',\r\n\t\t\t\t\t'#34495e', '#f1c40f', '#e67e22', '#e74c3c',\r\n\t\t\t\t\t'#ee5a24', '#9980fa', '#8c7ae6', '#f79f1f'\r\n\t\t\t\t],\r\n\t\t\t\tinfo: {\r\n\t\t\t\t\tcontent: '',\r\n\t\t\t\t\tcommentEnabled: false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getData()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetData() {\r\n\t\t\t\tgetData().then(res => {\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tthis.friendList = res.data.friendList\r\n\t\t\t\t\t\tthis.info = res.data.friendInfo\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.msgError(res.msg)\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.msgError(\"请求失败\")\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\taddViews(nickname) {\r\n\t\t\t\taddViewsByNickname(nickname)\r\n\t\t\t},\r\n\t\t\trandomRGB() {\r\n\t\t\t\tconst index = Math.floor((Math.random() * this.bgColor.length))\r\n\t\t\t\treturn {backgroundColor: this.bgColor[index]}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.card .image {\r\n\t\twidth: 70px !important;\r\n\t\tmargin: 10px auto 0px;\r\n\t\tbackground: unset !important;\r\n\t}\r\n\r\n\t.card .image img {\r\n\t\tborder-radius: 100% !important;\r\n\t\twidth: 70px !important;\r\n\t\theight: 70px !important;\r\n\t}\r\n\r\n\t.card .content {\r\n\t\ttext-align: center;\r\n\t\tpadding: 10px 14px !important;\r\n\t\tborder-top: 0 !important;\r\n\t}\r\n\r\n\t.card .content * {\r\n\t\tcolor: #fff !important;\r\n\t}\r\n\r\n\t.card .content .header {\r\n\t\tfont-size: 16px !important;\r\n\t}\r\n\r\n\t.card .content .description {\r\n\t\tfont-size: 12px !important;\r\n\t}\r\n\r\n\t.card .content .description {\r\n\t\tmargin-top: 5px !important;\r\n\t\tmargin-bottom: 7px;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Friends.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Friends.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Friends.vue?vue&type=template&id=603f08a7&scoped=true\"\nimport script from \"./Friends.vue?vue&type=script&lang=js\"\nexport * from \"./Friends.vue?vue&type=script&lang=js\"\nimport style0 from \"./Friends.vue?vue&type=style&index=0&id=603f08a7&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"603f08a7\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comment.vue?vue&type=style&index=0&id=4ce50154&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=style&index=0&id=14079206&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Friends.vue?vue&type=style&index=0&id=603f08a7&prod&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=style&index=0&id=5bc58a75&prod&scoped=true&lang=css\""],"sourceRoot":""}